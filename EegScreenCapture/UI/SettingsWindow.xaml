<Window x:Class="EegScreenCapture.UI.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Settings" Height="400" Width="500"
        WindowStartupLocation="CenterOwner">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TabControl Grid.Row="0">
            <!-- Recording Settings -->
            <TabItem Header="Recording">
                <StackPanel Margin="15">
                    <Label Content="Frame Rate (FPS):" FontWeight="Bold"/>
                    <TextBox x:Name="FpsTextBox" Margin="0,0,0,15" Padding="5"/>

                    <Label Content="Segment Duration (Minutes):" FontWeight="Bold"/>
                    <TextBox x:Name="SegmentDurationTextBox" Margin="0,0,0,15" Padding="5"/>

                    <Label Content="Output Directory:" FontWeight="Bold"/>
                    <TextBox x:Name="OutputDirectoryTextBox" Margin="0,0,0,15" Padding="5"/>

                    <CheckBox x:Name="TimestampOverlayCheckBox" Content="Show Timestamp Overlay" Margin="0,10,0,0"/>
                </StackPanel>
            </TabItem>

            <!-- Video Encoding Settings -->
            <TabItem Header="Video Encoding">
                <StackPanel Margin="15">
                    <CheckBox x:Name="FFmpegEnabledCheckBox" Content="Enable H.265/MP4 conversion" Margin="0,0,0,15" FontWeight="Bold"/>

                    <Label Content="FFmpeg Path:" FontWeight="Bold"/>
                    <TextBox x:Name="FFmpegPathTextBox" Margin="0,0,0,15" Padding="5"/>

                    <Label Content="Quality (CRF):" FontWeight="Bold"/>
                    <TextBox x:Name="CrfTextBox" Margin="0,0,0,5" Padding="5"/>
                    <TextBlock Text="Lower = better quality (18-23 recommended for screen recording)"
                               Foreground="Gray" FontSize="11" Margin="0,0,0,15"/>

                    <Label Content="Encoding Preset:" FontWeight="Bold"/>
                    <ComboBox x:Name="PresetComboBox" Margin="0,0,0,5" Padding="5">
                        <ComboBoxItem Content="ultrafast"/>
                        <ComboBoxItem Content="superfast"/>
                        <ComboBoxItem Content="veryfast"/>
                        <ComboBoxItem Content="faster"/>
                        <ComboBoxItem Content="fast"/>
                        <ComboBoxItem Content="medium"/>
                        <ComboBoxItem Content="slow"/>
                        <ComboBoxItem Content="slower"/>
                        <ComboBoxItem Content="veryslow"/>
                    </ComboBox>
                    <TextBlock Text="Slower = better compression, but takes longer"
                               Foreground="Gray" FontSize="11" Margin="0,0,0,15"/>

                    <CheckBox x:Name="DeleteIntermediateAviCheckBox" Content="Delete intermediate AVI files after conversion" Margin="0,5,0,0"/>
                </StackPanel>
            </TabItem>

            <!-- Cloud Storage Settings -->
            <TabItem Header="Cloud Storage">
                <StackPanel Margin="15">
                    <Label Content="Google Cloud Bucket:" FontWeight="Bold"/>
                    <TextBox x:Name="BucketNameTextBox" Margin="0,0,0,15" Padding="5"/>

                    <CheckBox x:Name="AutoUploadCheckBox" Content="Automatically upload segments" Margin="0,10,0,0"/>
                    <CheckBox x:Name="DeleteAfterUploadCheckBox" Content="Delete local files after upload" Margin="0,5,0,0"/>

                    <Label Content="Retry Attempts:" FontWeight="Bold" Margin="0,15,0,0"/>
                    <TextBox x:Name="RetryAttemptsTextBox" Margin="0,0,0,0" Padding="5"/>
                </StackPanel>
            </TabItem>
        </TabControl>

        <!-- Action Buttons -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,15,0,0">
            <Button Content="Save" Click="SaveButton_Click" Padding="15,5" Margin="0,0,10,0" MinWidth="80"/>
            <Button Content="Cancel" Click="CancelButton_Click" Padding="15,5" MinWidth="80"/>
        </StackPanel>
    </Grid>
</Window>
